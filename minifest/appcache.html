<!DOCTYPE html>
<html manifest="sample.appcache">
	<head>
		<meta charset="utf-8"> 
	</head>
	<body>
	<h1>app cache demo</h1>
		 <ul>
		 <li><img src="1.jpg"></li>
		 <li><img src="2.jpg"></li>
		 <li><img src="3.jpg"></li>
		 <li><img src="4.jpg"></li>
		 <li><img src="5.jpg"></li>
		 <li><img src="6.jpg"></li>
		 <li><img src="7.jpg"></li>
		 <li><img src="8.jpg"></li>
		 <li><img src="9.jpg"></li>
		 <li><img src="10.jpg"></li>
		 <li><img src="11.jpg"></li>
		 <li><img src="12.jpg"></li>
		 <li><img src="13.jpg"></li>
		 <li><img src="14.jpg"></li>
		 <li><img src="15.jpg"></li>
		 <li><img src="16.jpg"></li>
		 <li><img src="17.jpg"></li>
		 <li><img src="18.jpg"></li>
		 <li><img src="19.jpg"></li>
		 <li><img src="20.jpg"></li>
		 <li><img src="21.jpg"></li>
		 <li><img src="22.jpg"></li>
		 <li><img src="23.jpg"></li>
		 <li><img src="24.jpg"></li>
		 <li><img src="25.jpg"></li>
		 <li><img src="26.jpg"></li>
		 <li><img src="27.jpg"></li>
		 <li><img src="28.jpg"></li> 
		 
		 </ul>
		 <script type="text/javascript">
			window.addEventListener("load",function(e){
				window.applicationCache.addEventListener("updateready",function(e){
					console.log(window.applicationCache.status);
					if(window.applicationCache.status==window.applicationCache.UPDATEREADY){
						window.applicationCache.swapCache();
						if(confirm("A new version of this site is available.Load it?")){
							window.location.reload();
						}
					}else{
						console.log("manifest did not change");
					}
				},false);
				
			},false);
		 </script>
	</body>
</html>