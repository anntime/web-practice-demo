<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <script src="avalon.js"></script>
        <script>
			var index=0;
			var model=avalon.define({
				$id:"test",
				data:{
					aaa:1111,
					bbb:2222,
					ccc:3333,
					ddd:4444
				},
				keys:function(a){
					console.log(a);
					console.log(this);
					return["ccc","bbb","aaa"];
				},
				getIndex:function(){
					return index++;
				}
			})
		</script>
	</head>
	<body ms-controller="test">
		<ul>
			<li ms-repeat="data" data-with-sorted="keys">{{getIndex()}}„ÄÅ{{$key}}--{{$val}}</li>
        </ul>
    </body>
</html>